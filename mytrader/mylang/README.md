# 简介

My语言是一种组件式的程序交易语言，采用静态无类型（即变量无需声明类型）的语法规则。

# 数据类型

可以使用的数据类型如下所示：

- 布尔型：值可以是`True`或`False`
- 数值型：分为整数和浮点数两种
- 字符串型：用`"`或`'`包裹起来的字面量
- 数组：暂不开发
- 关联数组：暂不开发
- 类：暂不开发
- 对象：暂不开发

# 变量

变量是在电脑内存中开辟的一块用来存储数据的空间，简单来说，就是保存了对应表达式的值。

```
// 将1赋值给变量a
a := 1;
```

## 变量类型

1.字符串类型，使用`"`或`'`包裹起来的一段文本。

```
// 输出日志 ok
LOG("ok");
```

2.数值类型，包括整数和浮点数两种。

```
// 整数
a := 2;
// 浮点数
b := 3.14;
```

3.布尔类型，使用True代表真，Flase代表假

```
// 变量A的值是True
A := 1>0;
```

4.全局变量

使用关键字`VARIABLE`修饰的变量，只会执行赋值一次。

```
// 声明一个全局变量global，赋值为10，只执行一次
VARIABLE global := 10;
```

## 命名规则

变量名由数字、下划线`_`和字母组成，但必须以下划线`_`或者字母开头。同时不能与内置的关键字、函数名、系统变量名重合。

请尽可能让人可以理解你变量的含义，不要使用诸如：A1,AAA,BBB……这类的命名方式。

相信我，过些时日，你再次复查你的指标代码时，由于记忆的缺失，你会非常痛苦。同样的，当你把代码导出给他人的时候，阅读者的心态一定是崩溃的。

关键字列表如下:

- IF
- BEGIN
- THEN
- END
- VARIABLE
- FUNCTION
- AND
- OR

系统变量：

- O
- C
- H
- L
- V

函数名列表请查询下面的函数介绍。

# 运算符

用于执行指标代码的运算、计算，简单而言就是参与运算的符号。

## 赋值运算符

赋值运算符的作用是用于给某个变量赋值。

- `:`: 冒号，代表赋值并且输出到图(副图)中
- `:=`: 冒号等于，代表赋值，但不输出到图(主图、副图……)中,也不显示在状态栏表格中。
- `^^`: 两个`^`符号代表赋值，给变量赋值并且输出到图（主图）中。
- `..`: 两个`.`符号代表赋值，给变量赋值并且显示在状态栏表格中，但是不输出到图（主图、副图……）中。

## 关系运算符

关系运算符是双目运算符，用在条件表达式中。用于判断两个数据之间的关系,返回值类型是布尔类型，不是 True、就是False。

- 大于 `>`
- 小于 `<`
- 大于等于 `>=`
- 小于等于 `<=`
- 等于 `=`
- 不等于 `<>`

## 逻辑运算符

用来连接多个关系表达式，返回值类型是布尔类型，不是 True、就是False。

- `&&`：逻辑与，可以使用`AND`替代，与连接的左右两边必须同时成立
- `||`: 逻辑或，可以使用`OR`替代，或链接左右两边，一边成立(true)，整体则成立(返回值 true)
- `()`: () 运算符，计算时，会先计算括号内的表达式。

## 算数运算符

算术运算符即算术运算符号。是完成基本的算术运算 (arithmetic operators) 符号，就是用来处理四则运算的符号, 返回值是数值类型。

- `+`: 加
- `-`: 减
- `*`: 乘
- `/`: 除

# 函数

函数由函数名和参数列表组成，是一段实现了某种功能的代码块。

在目前的版本中，My语言不允许自定义函数，用户只能去调用内置函数。

一般构成：函数名(参数 1，参数 2，……)，可能没有参数，可能有多个参数，例如 MA(x,n);代表返回 n 周期的内 x 的简单移动平均值，其中 MA()就是一个函数，x 和 n 就是函数的参数。

使用函数的时候，我们需要了解函数基本定义，也就是调用该函数可以获得什么数据。通常而言，函数都带有参数，当我们传入参数的时候，需要确保传入的数据类型是符合的。

## 返回值

为了快速学习函数，首先我们需要理解一个概念，叫做「返回值」。返回，顾名思义，就是「还回来」，值则代表「具体的数值」，那么返回值：可以拿到的数据。

```
// 因为后面的代码中会用到，所以用变量 return_value 接收、保存 function()的返回值
// retrun_value := function(param1,param2);
// 例如：
AVG:=MA(C,10);     // AVG 即 retrun_value ， function 函数即： MA 函数， param1 参数 ： C 即 收盘价序列数据 ，  param2参数：10 。
```

## 参数

其次，函数的第二个概念重要概念，就是参数，传入不同的参数，可以得到不同的返回值。

```
// 变量 ma5 接收 5 日收盘价移动平均值
ma5:=MA(C,5);
// 变量 ma10 接收 10 日收盘价移动平均值
ma10:=MA(C,10);
```

上述的变量 ma5、ma10 的第一个参数 X 都是 C(收盘价)，实际上 C 也算一个函数(返回开盘至今的收盘价序列)，只不过他没有参数。第二个参数 5、10 这是用来告诉 MA()函数，我们要获取收盘价几日的移动平均线，通过参数，函数使用起来变得更加灵活。

# 注释

行注释符`//`，紧跟其后同一行内的所有字符不被当代码编译，用来标注代码的含义，方便代码复查。

```
// 这是注释的内容，不能被执行，一般用来标注后面的代码的逻辑和含义
```

*note:目前不提供块注释，仅提供行注释*

# 内置函数